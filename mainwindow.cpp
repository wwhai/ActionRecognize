#include "mainwindow.h"
#include "ui_mainwindow.h"
#include "include/ActionRecognize.h"
#include "include/ActionRecognize_terminate.h"


//1 'Sitting'
//2 'Standing'
//3 'Walking'
//4 'Running'
//5 'Dancing'
static double T1[60]={0.764034074028110,0.585141952453944,-0.256940499770829,0.109120967337660,0.0834560868379977,0.0367828916258221,0.381036336406612,-1,0.0676454671796656,0.222877389769965,-1,0.0388697758392901,0.0432953957234232,-1,0.00773728157478114,0.932617187500000,1.28417968750000,1.62841796875000,1.93847656250000,2.28515625000000,2.90771484375000,0.0124541418565101,0.00599813343318783,0.00381475968672633,0.00285447620556458,0.00215150660450759,0.00145152120720451,0.935058593750000,1.28417968750000,1.61376953125000,1.96044921875000,2.28027343750000,2.60009765625000,0.00723517090412996,0.00355074537205368,0.00223727047981172,0.00165802892255841,0.00124034568496086,0.00105040976051413,0.935058593750000,1.61621093750000,1.99951171875000,2.62451171875000,3.24707031250000,3.89160156250000,0.00139396056059717,0.000448067460227048,0.000313178823804434,0.000190999407216034,0.000154664047346794,0.000126104167835791,2.55947495803593,2.30469944076926,0.000410518598800483,1.49716010450473,1.34824459826627,0.000272829415896706,0.291050922771654,0.261600136357063,4.92193559478985e-05};
static double T2[60]={-0.0127958753431986,0.995212730481500,-0.151675319900845,0.00250240968357744,0.141890509226669,0.0219841208958333,0,0,0,0.644253331475310,-1,0.112193694669413,0.0154656502900036,-1,0.00292402812107757,0.852050781250000,1.18164062500000,1.56738281250000,1.92871093750000,2.27050781250000,4.10400390625000,5.73788917496740e-06,2.33519234362878e-06,3.21935236691176e-06,2.21003012474831e-06,2.14684067661094e-06,3.62693583761138e-06,0.932617187500000,1.28173828125000,1.63085937500000,1.96533203125000,2.27294921875000,2.89794921875000,0.0208117037372041,0.0102864299760665,0.00661088843086756,0.00469974625496808,0.00365442523312546,0.00247860266802940,0.939941406250000,1.69189453125000,2.10205078125000,2.69531250000000,3.14941406250000,3.54003906250000,0.000521939764133996,0.000164590527306702,9.74208872428729e-05,6.60983775391797e-05,5.96300924148967e-05,5.64129072006593e-05,0.00100417558786419,0.00152739533191284,7.35140479182788e-08,4.31274280988911,3.91194791144305,0.000761160398221629,0.104192175515033,0.0932367494483887,2.03693697732784e-05};
static double T3[60]={0.0382263946499310,-1.00086508963649,-0.0860393655013491,0.234592051471977,0.326936251409614,0.243919701606068,1.76106977964258,-2.60000000000000,0.0259763215657587,3.42039399954466,-2.70000000000000,0.0996994692658615,1.90389826661099,-2.60000000000000,0.0682670385135711,1.48193359375000,1.93603515625000,2.42431640625000,3.49609375000000,4.13818359375000,4.99755859375000,0.0164941839047254,0.0141502208752885,0.0262336669654963,0.0115113256303000,0.0393464394099154,0.0277203158512224,1.35253906250000,1.69433593750000,2.05810546875000,2.36328125000000,3.01269531250000,3.69873046875000,0.0504335083144189,0.0561352588100768,0.0337510622025760,0.0419511150225825,0.0694669250115335,0.0901575937937059,0.900878906250000,1.54296875000000,2.40234375000000,3.15429687500000,3.85742187500000,4.58496093750000,0.0103434524939978,0.0530594134384984,0.0157964372636862,0.0156578620276978,0.0223268247364034,0.0401638360719358,2.57779379750072,19.9298794671787,0.0138627211876172,7.12185217600012,36.5626097479511,0.0107838108594378,4.38408891821505,19.9632007904998,0.00139546299785542};
static double T4[60]={-0.149257634557885,1.04665986409943,-0.0336632002596028,0.369942567145747,1.16670510295107,0.843810191945778,4.37944009556434,-2.60000000000000,0.850788956641353,43.5584255120658,-2.70000000000000,1.38248231831557,22.7845004810102,-2.70000000000000,0.518463320978411,1.23535156250000,1.92382812500000,2.31933593750000,2.72460937500000,4.65332031250000,4.99755859375000,0.0675222611682759,0.0615531038400618,0.0639006578232338,0.135035753416738,0.0906141483087233,0.0432713600546537,1.42333984375000,2.12890625000000,2.66357421875000,3.35693359375000,3.98437500000000,4.68994140625000,0.151307751316373,0.505157934126857,2.59335803465600,0.261329995576093,0.692996108074659,0.338575534217048,1.01318359375000,2.09960937500000,2.57080078125000,3.36669921875000,4.06250000000000,4.73388671875000,0.125230654842910,0.415463494578887,0.320374668245361,0.436970787168560,0.0773961105417315,0.336862978035694,10.5712085055114,44.0791182491614,0.0216394312481847,16.6789636538106,540.665146716710,0.0134569003256590,26.4895213000662,264.659163503532,0.125567908246787};
static double T5[60]={-0.0571789548517932,0.843496759136937,-0.173660659204727,0.273654674568211,1.29305938082718,0.252654642107917,2.39638018921706,-2.50000000000000,0.218148018768614,53.5040819950456,-2.50000000000000,8.09033271516519,2.04269978171775,-2.30000000000000,0.336971983480599,1.70410156250000,2.05078125000000,2.75878906250000,3.64013671875000,4.39453125000000,4.92187500000000,0.0122052865656907,0.0161937336426026,0.0612011443533288,0.0155155747903629,0.0627157060285229,0.0493741222666657,1.89208984375000,2.38525390625000,2.88085937500000,3.27148437500000,4.31396484375000,4.75097656250000,0.0909319967334441,3.19181465289731,0.556317330427480,0.162511359392162,0.173667456834998,1.61979973163362,1.68457031250000,2.48779296875000,2.99560546875000,4.02343750000000,4.37744140625000,4.83886718750000,0.0158300867930589,0.0486294903215272,0.0184684433890418,0.00729833748432549,0.0239948270999814,0.109810457545641,0.702640667158187,29.9401163068370,0.0243429105545361,12.4384600834243,672.342926986548,0.00420000128495595,0.470004630093592,25.6222180192881,0.0426980466518771};

MainWindow::MainWindow(QWidget *parent)
    : QMainWindow(parent)
    , ui(new Ui::MainWindow)
{
    ui->setupUi(this);


}
void MainWindow::on_ActionRecognize(double label){
    printf(" ActionRecognize Label => %lf\n", label);
    switch (int(label)) {
    case 1:
        ui->showLabel->setText("1:Sitting");
        break;
    case 2:
        ui->showLabel->setText("2:Standing");
        break;
    case 3:
        ui->showLabel->setText("3:Walking");
        break;
    case 4:
        ui->showLabel->setText("4:Running");
        break;
    case 5:
        ui->showLabel->setText("5:Dancing");
        break;
    default:
        ui->showLabel->setText("Unknown");
        break;
    }
}
MainWindow::~MainWindow()
{
    ActionRecognize_terminate();
    delete ui;
}


void MainWindow::on_pushButton_1_clicked()
{
    double label1 = ActionRecognize(T1);
    this->on_ActionRecognize(label1);
}


void MainWindow::on_pushButton_2_clicked()
{
    double label1 = ActionRecognize(T2);
    this->on_ActionRecognize(label1);
}


void MainWindow::on_pushButton_3_clicked()
{
    double label1 = ActionRecognize(T3);
    this->on_ActionRecognize(label1);
}


void MainWindow::on_pushButton_4_clicked()
{
    double label1 = ActionRecognize(T4);
    this->on_ActionRecognize(label1);
}


void MainWindow::on_pushButton_5_clicked()
{
    double label1 = ActionRecognize(T5);
    this->on_ActionRecognize(label1);
}

